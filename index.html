<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Davenci C.O.S ‚Äì Support</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root{
      --navy:#0E1E3A;
      --teal:#6FAFC2;
      --bg1:#0b1c2d;
      --bg2:#0f2f4a;
      --card:rgba(255,255,255,0.09);
      --border:rgba(255,255,255,0.16);
      --text:#ffffff;
      --muted:rgba(255,255,255,0.85);
      --btn:#1dd3b0;
      --btn2:#0bbcd6;
    }

    body{
      margin:0;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, var(--bg1), var(--bg2));
      color: var(--text);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 18px;
    }

    .wrap{
      width:100%;
      max-width: 520px;
    }

    .card{
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 18px;
      box-shadow: 0 14px 40px rgba(0,0,0,0.38);
      backdrop-filter: blur(10px);
    }

    /* ===== Header ÿØÿßÿÆŸÑ ÿßŸÑŸÉÿßÿ±ÿ™ (ÿßŸÑŸÑŸàÿ∫Ÿà ŸÅŸàŸÇ) ===== */
    .header{
      display:flex;
      flex-direction:column;
      align-items:center;
      text-align:center;
      gap:10px;
      margin-bottom: 10px;
    }

    .logoTop{
      width:64px;
      height:64px;
      border-radius:16px;
      object-fit:contain;
      background: rgba(255,255,255,0.10);
      border: 1px solid rgba(255,255,255,0.16);
      padding: 10px;
    }

    .brandLine{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      font-size: 13px;
      color: rgba(255,255,255,0.88);
    }
    .dot{
      width:8px;height:8px;border-radius:50%;
      background: var(--teal);
      display:inline-block;
    }

    /* ===== Language selector ===== */
    .langRow{
      display:flex;
      justify-content:center;
      margin: 12px 0 14px 0;
    }

    select{
      width: 220px;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.10);
      color: white;
      font-size: 14px;
      outline:none;
    }
    option{ color:#111; }

    h1{
      margin: 0 0 8px 0;
      font-size: 18px;
      color: #fff;
    }
    p{
      margin: 0 0 14px 0;
      font-size: 13.5px;
      line-height: 1.5;
      color: var(--muted);
    }

    .list{ margin-top: 10px; display:flex; flex-direction:column; gap:10px; }

    .btn{
      width:100%;
      border: 0;
      border-radius: 14px;
      padding: 12px 12px;
      cursor:pointer;
      font-size: 14px;
      font-weight: 700;
      color: #05222a;
      background: linear-gradient(135deg, var(--btn), var(--btn2));
      text-align: start;
    }

    .btn.secondary{
      background: transparent;
      color: #fff;
      border: 1px solid var(--border);
      font-weight: 600;
      text-align:center;
    }

    .mini{
      font-size: 12px;
      opacity: .92;
      margin-top: 10px;
    }

    .divider{
      height:1px;
      background: rgba(255,255,255,0.16);
      margin: 12px 0;
    }

    .k{ color: rgba(255,255,255,0.92); font-weight: 700; }
    ul{ margin: 8px 0 0 0; padding: 0 18px; color: var(--muted); }
    li{ margin: 6px 0; line-height: 1.5; font-size: 13.5px; }

    .field{
      display:flex; flex-direction:column; gap:6px;
      margin-top: 10px;
    }
    .field label{
      font-size: 12px; color: rgba(255,255,255,0.85);
    }
    .field input, .field textarea{
      width:100%;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.10);
      color: white;
      padding: 10px 12px;
      font-size: 14px;
      outline:none;
      box-sizing:border-box;
    }
    textarea{ min-height: 92px; resize: vertical; }

    .footerNote{
      margin-top: 12px;
      font-size: 11.5px;
      color: rgba(255,255,255,0.75);
      line-height: 1.5;
      text-align:center;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">

      <!-- ===== ÿßŸÑŸÑŸàÿ∫Ÿà ŸÅŸàŸÇ ===== -->
      <div class="header">
        <!-- IMPORTANT: ÿßÿ≥ŸÖ ÿßŸÑŸÖŸÑŸÅ ŸÑÿßÿ≤ŸÖ ŸäŸÉŸàŸÜ ŸÜŸÅÿ≥Ÿà ÿ®ÿßŸÑÿ∂ÿ®ÿ∑ logo.png -->
        <img src="logo.png" class="logoTop" alt="Davenci C.O.S" />

        <div class="brandLine">
          <span class="dot"></span>
          <span id="brandBadge">Davenci C.O.S Support</span>
        </div>
      </div>

      <!-- ===== ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑŸÑÿ∫ÿ© ===== -->
      <div class="langRow">
        <select id="lang">
          <option value="it">üáÆüáπ Italiano</option>
          <option value="fr">üá´üá∑ Fran√ßais</option>
          <option value="en">üá¨üáß English</option>
          <option value="ar">üáπüá≥ ÿπÿ±ÿ®Ÿä</option>
        </select>
      </div>

      <h1 id="title"></h1>
      <p id="desc"></p>

      <div id="content" class="list"></div>

      <div class="footerNote" id="footerNote"></div>
    </div>
  </div>

<script>
/** ÿ∫ŸäŸëÿ± ÿßŸÑÿ•ŸäŸÖŸäŸÑ ŸÖÿ™ÿßÿπ ÿßŸÑÿØÿπŸÖ ŸáŸÜÿß */
const SUPPORT_EMAIL = "support@davenci-cos.com";

/** (ÿßÿÆÿ™Ÿäÿßÿ±Ÿä) Webhook ŸÖÿ™ÿßÿπ Lark Incoming Webhook (ÿ•ÿ∞ÿß ŸÖÿß ÿπŸÜÿØŸÉÿ¥ ÿÆŸÑŸäŸá ŸÅÿßÿ±ÿ∫) */
const LARK_WEBHOOK_URL = ""; // ŸÖÿ´ÿßŸÑ: https://open.larksuite.com/open-apis/bot/v2/hook/XXXX

/** ÿ≠ÿßŸÑÿ© ÿßŸÑÿ™ŸÜŸÇŸÑ */
let state = {
  view: "home",      // home | faq | answer | ticket
  sectionId: null,   // A / B / C...
  faqId: null,       // A_1 / B_1 ...
  lang: "it"
};

const i18n = {
  ar: {
    brand: "ÿØÿπŸÖ Davenci C.O.S",
    homeTitle: "üëã ŸÖÿ±ÿ≠ÿ®Ÿãÿß ÿ®ŸÉ ŸÅŸä ÿØÿπŸÖ Davenci C.O.S",
    homeDesc: "ÿßÿÆÿ™ÿ± ÿßŸÑŸÇÿ≥ŸÖÿå ÿ´ŸÖ ÿßÿÆÿ™ÿ± ÿßŸÑÿ≥ÿ§ÿßŸÑ ÿßŸÑÿ¥ÿßÿ¶ÿπÿå Ÿàÿ≥ÿ™ÿ≠ÿµŸÑ ÿπŸÑŸâ ÿ≠ŸÑ ŸÖÿÆÿ™ÿµÿ± ŸàŸàÿßÿ∂ÿ≠. Ÿàÿ•ÿ∞ÿß ŸÑŸÖ ÿ™Ÿèÿ≠ŸÑ ÿßŸÑŸÖÿ¥ŸÉŸÑÿ©ÿå ÿßŸÅÿ™ÿ≠ ÿ™ÿ∞ŸÉÿ±ÿ© ÿØÿπŸÖ.",
    back: "üîô ÿ±ÿ¨Ÿàÿπ",
    openTicket: "‚ùå ŸÑŸÖ ÿ™Ÿèÿ≠ŸÑ ÿßŸÑŸÖÿ¥ŸÉŸÑÿ© ‚Äì ŸÅÿ™ÿ≠ ÿ™ÿ∞ŸÉÿ±ÿ© ÿØÿπŸÖ",
    ticketTitle: "üé´ ŸÅÿ™ÿ≠ ÿ™ÿ∞ŸÉÿ±ÿ© ÿØÿπŸÖ",
    ticketDesc: "ÿßŸÉÿ™ÿ® ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿ®ÿ≥Ÿäÿ∑ÿ© ŸÑŸÜŸÅŸáŸÖ ÿßŸÑÿ≠ÿßŸÑÿ© ÿ®ÿ≥ÿ±ÿπÿ©. (ÿßŸÑÿ™ŸäŸÉÿ™ ÿ¢ÿÆÿ± ÿ≠ŸÑ)",
    name: "ÿßŸÑÿßÿ≥ŸÖ (ÿßÿÆÿ™Ÿäÿßÿ±Ÿä)",
    contact: "Ÿàÿ≥ŸäŸÑÿ© ÿ™ŸàÿßÿµŸÑ (ÿ®ÿ±ŸäÿØ/ÿ±ŸÇŸÖ) (ÿßÿÆÿ™Ÿäÿßÿ±Ÿä)",
    details: "ŸàÿµŸÅ ŸÖÿÆÿ™ÿµÿ± ŸÑŸÑŸÖÿ¥ŸÉŸÑÿ© (ŸÖŸáŸÖ)",
    send: "üì® ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ™ÿ∞ŸÉÿ±ÿ©",
    sentTip: "ÿ≥ŸäŸÅÿ™ÿ≠ ÿ™ÿ∑ÿ®ŸäŸÇ ÿßŸÑÿ®ÿ±ŸäÿØ ŸÑÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ™ÿ∞ŸÉÿ±ÿ©. ÿ•ŸÜ ŸÑŸÖ ŸäŸÅÿ™ÿ≠ÿå ÿßŸÜÿ≥ÿÆ ÿßŸÑŸÜÿµ Ÿàÿ£ÿ±ÿ≥ŸÑŸá ŸäÿØŸàŸäŸãÿß.",
    soon: "ŸÇÿ±Ÿäÿ®Ÿãÿß ÿ≥ŸÜÿ∂ŸäŸÅ Ÿáÿ∞ÿß ÿßŸÑŸÇÿ≥ŸÖ ÿ®ÿßŸÑÿ™ŸÅÿµŸäŸÑ.",
    footer: "‚úÖ Davenci C.O.S ‚Äì Conseils, Orientation & S√©curit√©"
  },
  fr: {
    brand: "Support Davenci C.O.S",
    homeTitle: "üëã Bienvenue sur le support Davenci C.O.S",
    homeDesc: "Choisissez une section, puis une question fr√©quente. Vous recevez une solution courte et claire. Si ce n‚Äôest pas r√©solu, ouvrez un ticket.",
    back: "üîô Retour",
    openTicket: "‚ùå Non r√©solu ‚Äì Ouvrir un ticket",
    ticketTitle: "üé´ Ouvrir un ticket",
    ticketDesc: "Donnez quelques infos pour comprendre rapidement. (Ticket en dernier recours)",
    name: "Nom (optionnel)",
    contact: "Contact (email/t√©l√©phone) (optionnel)",
    details: "Description courte (important)",
    send: "üì® Envoyer le ticket",
    sentTip: "Votre application email s‚Äôouvrira pour envoyer le ticket. Sinon, copiez le texte et envoyez-le manuellement.",
    soon: "Nous ajouterons bient√¥t le d√©tail de cette section.",
    footer: "‚úÖ Davenci C.O.S ‚Äì Conseils, Orientation & S√©curit√©"
  },
  en: {
    brand: "Davenci C.O.S Support",
    homeTitle: "üëã Welcome to Davenci C.O.S Support",
    homeDesc: "Pick a section, then a common question. You‚Äôll get a short, clear solution. If it‚Äôs not solved, open a support ticket.",
    back: "üîô Back",
    openTicket: "‚ùå Not solved ‚Äì Open a ticket",
    ticketTitle: "üé´ Open a support ticket",
    ticketDesc: "Share a few details so we can help quickly. (Ticket is the last step)",
    name: "Name (optional)",
    contact: "Contact (email/phone) (optional)",
    details: "Short description (required)",
    send: "üì® Send ticket",
    sentTip: "Your email app will open to send the ticket. If not, copy the text and send it manually.",
    soon: "We‚Äôll add full content for this section soon.",
    footer: "‚úÖ Davenci C.O.S ‚Äì Conseils, Orientation & S√©curit√©"
  },
  it: {
    brand: "Supporto Davenci C.O.S",
    homeTitle: "üëã Benvenuto nel supporto Davenci C.O.S",
    homeDesc: "Scegli una sezione, poi una domanda frequente. Riceverai una soluzione breve e chiara. Se non √® risolto, apri un ticket.",
    back: "üîô Indietro",
    openTicket: "‚ùå Non risolto ‚Äì Apri un ticket",
    ticketTitle: "üé´ Apri un ticket",
    ticketDesc: "Inserisci pochi dettagli per aiutarti pi√π velocemente. (Ticket come ultimo passo)",
    name: "Nome (opzionale)",
    contact: "Contatto (email/telefono) (opzionale)",
    details: "Descrizione breve (obbligatorio)",
    send: "üì® Invia ticket",
    sentTip: "Si aprir√† l‚Äôapp email per inviare il ticket. Se non si apre, copia il testo e invialo manualmente.",
    soon: "Aggiungeremo presto i dettagli di questa sezione.",
    footer: "‚úÖ Davenci C.O.S ‚Äì Conseils, Orientation & S√©curit√©"
  }
};

/** ÿßŸÑÿ£ŸÇÿ≥ÿßŸÖ */
const sections = [
  { id:"A", icon:"üö´", labels:{ ar:"ŸÇŸàÿßŸÜŸäŸÜ ÿßŸÑÿ≠ÿ∏ÿ± ŸàÿßŸÑÿßŸÜÿ™ŸáÿßŸÉÿßÿ™", fr:"Sanctions & violations", en:"Violations & bans", it:"Violazioni e blocchi" } },
  { id:"B", icon:"üì°", labels:{ ar:"ÿßŸÑÿ®ÿ´ ÿßŸÑŸÖÿ®ÿßÿ¥ÿ± ŸàÿßŸÑŸÖÿ¥ÿßŸáÿØÿßÿ™", fr:"Live & vues", en:"Live & views", it:"Live e visualizzazioni" } },
  { id:"C", icon:"üîê", labels:{ ar:"ÿ£ŸÖÿßŸÜ ŸàŸÖÿ¥ÿßŸÉŸÑ ÿßŸÑÿ≠ÿ≥ÿßÿ®", fr:"S√©curit√© & compte", en:"Security & account", it:"Sicurezza e account" } },
  { id:"D", icon:"üí∞", labels:{ ar:"ÿßŸÑÿ£ÿ±ÿ®ÿßÿ≠ ŸàÿßŸÑÿ≥ÿ≠ÿ®", fr:"Gains & retraits", en:"Earnings & payouts", it:"Guadagni e prelievi" } },
  { id:"E", icon:"üßπ", labels:{ ar:"ÿ™ŸÜÿ∏ŸäŸÅ ÿßŸÑÿ≠ÿ≥ÿßÿ®", fr:"Nettoyage du compte", en:"Account cleanup", it:"Pulizia account" } },
  { id:"F", icon:"üìù", labels:{ ar:"ÿßŸÑÿ¥ÿ±Ÿàÿ∑ ŸàÿßŸÑÿßŸÜÿ∂ŸÖÿßŸÖ ÿ•ŸÑŸâ ŸàŸÉÿßŸÑÿ™ŸÜÿß", fr:"Conditions & adh√©sion", en:"Terms & joining", it:"Condizioni e iscrizione" } },
  { id:"G", icon:"üöÄ", labels:{ ar:"ÿßÿ≥ÿ™ŸÅÿßÿØÿ© ÿßŸÑŸÖÿ®ÿØÿπ ŸÖŸÜ ÿßŸÑÿßŸÜÿ∂ŸÖÿßŸÖ ÿ•ŸÑŸâ ŸàŸÉÿßŸÑÿ™ŸÜÿß", fr:"Avantages pour le cr√©ateur", en:"Creator benefits", it:"Vantaggi per il creator" } },
  { id:"H", icon:"üõ°Ô∏è", labels:{ ar:"ŸÅÿ±ŸäŸÇ ÿØÿπŸÖ ŸàŸÉÿßŸÑÿ© Davenci C.O.S", fr:"√âquipe support Davenci C.O.S", en:"Davenci C.O.S support team", it:"Team di supporto Davenci C.O.S" } },
];

const contentA = {

  
 
 // ‚úÖ ÿ®ÿπÿØ ŸÖÿß ŸÜÿ´ÿ®ÿ™Ÿà ÿßŸÑÿ¥ŸÉŸÑÿå ŸÜŸÉŸÖŸëŸÑŸàŸÑŸÉ A_2..A_5 Ÿàÿ®ÿßŸÇŸä ÿßŸÑÿ£ŸÇÿ≥ÿßŸÖ B..H ŸÇÿ≥ŸÖ ŸÇÿ≥ŸÖ
};

/** ‚úÖ Ÿáÿ∞ÿß ŸáŸà ÿßŸÑŸÖŸáŸÖ: ÿÆÿ±Ÿäÿ∑ÿ© ÿßŸÑÿ£ŸÇÿ≥ÿßŸÖ -> ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ */
const contentsMap = {
  A: contentA,
  B: contentB,
  C: {}, D: {}, E: {}, F: {}, G: {}, H: {}
};

function t(){ return i18n[state.lang]; }

function setLang(lang){
  state.lang = lang;
  document.documentElement.lang = lang;
  document.body.dir = (lang === "ar") ? "rtl" : "ltr";
  document.getElementById("brandBadge").innerText = t().brand;
  document.getElementById("footerNote").innerText = t().footer;
}

function renderHome(){
  state.view="home"; state.sectionId=null; state.faqId=null;
  document.getElementById("title").innerText = t().homeTitle;
  document.getElementById("desc").innerText = t().homeDesc;

  const content=document.getElementById("content");
  content.innerHTML="";
  sections.forEach(s=>{
    const b=document.createElement("button");
    b.className="btn";
    b.textContent=`${s.icon} ${s.labels[state.lang]}`;
    b.onclick=()=>openSection(s.id);
    content.appendChild(b);
  });
}

function openSection(sectionId){
  state.view="faq"; state.sectionId=sectionId; state.faqId=null;

  const sec=sections.find(x=>x.id===sectionId);
  document.getElementById("title").innerText = `${sec.icon} ${sec.labels[state.lang]}`;

  const content=document.getElementById("content");
  content.innerHTML="";

  const sectionContent = contentsMap[sectionId];

  // ÿ•ÿ∞ÿß ÿßŸÑŸÇÿ≥ŸÖ ŸÅÿßÿ±ÿ∫ -> "ŸÇÿ±Ÿäÿ®Ÿãÿß"
  if(!sectionContent || Object.keys(sectionContent).length === 0){
    document.getElementById("desc").innerText = t().soon;

    const back = document.createElement("button");
    back.className = "btn secondary";
    back.textContent = t().back;
    back.onclick = renderHome;
    content.appendChild(back);
    return;
  }

  document.getElementById("desc").innerText =
    (state.lang==="ar") ? "ÿßÿÆÿ™ÿ± ÿ≥ÿ§ÿßŸÑŸãÿß ÿ¥ÿßÿ¶ÿπŸãÿßÿå ÿ´ŸÖ ÿßŸÇÿ±ÿ£ ÿßŸÑÿ≠ŸÑ. ÿ•ÿ∞ÿß ŸÑŸÖ ÿ™Ÿèÿ≠ŸÑ ÿßŸÑŸÖÿ¥ŸÉŸÑÿ©ÿå ÿßŸÅÿ™ÿ≠ ÿ™ÿ∞ŸÉÿ±ÿ©."
    : (state.lang==="fr") ? "Choisissez une question fr√©quente, puis lisez la solution. Si non r√©solu, ouvrez un ticket."
    : (state.lang==="it") ? "Scegli una domanda frequente, poi leggi la soluzione. Se non risolto, apri un ticket."
    : "Pick a common question, read the solution. If not solved, open a ticket.";

  Object.keys(sectionContent).forEach(fid=>{
    const b=document.createElement("button");
    b.className="btn";
    b.textContent=`‚ùì ${sectionContent[fid].labels[state.lang]}`;
    b.onclick=()=>openAnswer(fid);
    content.appendChild(b);
  });

  const back=document.createElement("button");
  back.className="btn secondary";
  back.textContent=t().back;
  back.onclick=renderHome;
  content.appendChild(back);
}

function openAnswer(faqId){
  state.view="answer"; state.faqId=faqId;

  const sectionContent = contentsMap[state.sectionId] || {};
  const item = sectionContent[faqId];

  if(!item){
    // ÿ≠ŸÖÿßŸäÿ© ŸÑŸà ÿµÿßÿ± ÿÆÿ∑ÿ£
    document.getElementById("title").innerText = "‚ö†Ô∏è";
    document.getElementById("desc").innerText = t().soon;
    const content=document.getElementById("content");
    content.innerHTML="";
    const back=document.createElement("button");
    back.className="btn secondary";
    back.textContent=t().back;
    back.onclick=()=>openSection(state.sectionId);
    content.appendChild(back);
    return;
  }

  const ans=item.answer[state.lang];

  document.getElementById("title").innerText = `‚úÖ ${item.labels[state.lang]}`;
  document.getElementById("desc").innerText = "";

  const content=document.getElementById("content");
  content.innerHTML="";

  const p1=document.createElement("p");
  p1.innerHTML = `<span class="k">üîç ${state.lang==="ar"?"ÿßŸÑÿ≥ÿ®ÿ® ÿßŸÑŸÖÿ≠ÿ™ŸÖŸÑ":"Cause"}:</span> ${ans.cause}`;
  content.appendChild(p1);

  const p2=document.createElement("p");
  p2.innerHTML = `<span class="k">‚úÖ ${state.lang==="ar"?"ÿßŸÑÿ≠ŸÑ":"Steps"}:</span>`;
  content.appendChild(p2);

  const ul=document.createElement("ul");
  ans.steps.forEach(s=>{
    const li=document.createElement("li");
    li.textContent=s;
    ul.appendChild(li);
  });
  content.appendChild(ul);

  const div=document.createElement("div");
  div.className="divider";
  content.appendChild(div);

  const openT=document.createElement("button");
  openT.className="btn";
  openT.textContent=t().openTicket;
  openT.onclick=()=>openTicket();
  content.appendChild(openT);

  const back=document.createElement("button");
  back.className="btn secondary";
  back.textContent=t().back;
  back.onclick=()=>openSection(state.sectionId);
  content.appendChild(back);
}

async function sendToLark(text){
  if(!LARK_WEBHOOK_URL) return;
  try{
    await fetch(LARK_WEBHOOK_URL, {
      method:"POST",
      headers:{ "Content-Type":"application/json" },
      body: JSON.stringify({ msg_type:"text", content:{ text } })
    });
  } catch(e){
    // ignore
  }
}

function openTicket(){
  state.view="ticket";
  const sec=sections.find(x=>x.id===state.sectionId);

  const sectionContent = contentsMap[state.sectionId] || {};
  const question = state.faqId && sectionContent[state.faqId]
    ? sectionContent[state.faqId].labels[state.lang]
    : "(direct)";

  document.getElementById("title").innerText = t().ticketTitle;
  document.getElementById("desc").innerText = t().ticketDesc;

  const content=document.getElementById("content");
  content.innerHTML="";

  const f1=document.createElement("div");
  f1.className="field";
  f1.innerHTML=`<label>${t().name}</label><input id="tk_name" />`;
  content.appendChild(f1);

  const f2=document.createElement("div");
  f2.className="field";
  f2.innerHTML=`<label>${t().contact}</label><input id="tk_contact" />`;
  content.appendChild(f2);

  const f3=document.createElement("div");
  f3.className="field";
  f3.innerHTML=`<label>${t().details}</label><textarea id="tk_details"></textarea>`;
  content.appendChild(f3);

  const send=document.createElement("button");
  send.className="btn";
  send.textContent=t().send;
  send.onclick=async ()=>{
    const name=document.getElementById("tk_name").value || "-";
    const contact=document.getElementById("tk_contact").value || "-";
    const details=document.getElementById("tk_details").value || "-";

    const secLabel = sec ? sec.labels[state.lang] : "";
    const subjectText = `Davenci C.O.S Ticket | ${secLabel}`;
    const bodyText =
`Language: ${state.lang}
Section: ${secLabel}
Question: ${question}

Name: ${name}
Contact: ${contact}

Details:
${details}

---
Sent from davenci-cos-support-bot.pages.dev`;

    // (ÿßÿÆÿ™Ÿäÿßÿ±Ÿä) ÿßÿ®ÿπÿ´ ŸÑŸÑŸÄ Lark
    await sendToLark(
`üé´ New Ticket
Lang: ${state.lang}
Section: ${secLabel}
Question: ${question}
Name: ${name}
Contact: ${contact}
Details: ${details}`
    );

    // Email (mailto)
    const subject=encodeURIComponent(subjectText);
    const body=encodeURIComponent(bodyText);
    window.location.href=`mailto:${SUPPORT_EMAIL}?subject=${subject}&body=${body}`;
  };
  content.appendChild(send);

  const tip=document.createElement("p");
  tip.className="mini";
  tip.textContent=t().sentTip;
  content.appendChild(tip);

  const back=document.createElement("button");
  back.className="btn secondary";
  back.textContent=t().back;
  back.onclick=()=>{ if(state.faqId) openAnswer(state.faqId); else renderHome(); };
  content.appendChild(back);
}

document.getElementById("lang").addEventListener("change",(e)=>{
  setLang(e.target.value);
  if(state.view==="home") renderHome();
  else if(state.view==="faq") openSection(state.sectionId);
  else if(state.view==="answer") openAnswer(state.faqId);
  else if(state.view==="ticket") openTicket();
});

(function boot(){
  const defaultLang="it";
  document.getElementById("lang").value=defaultLang;
  setLang(defaultLang);
  renderHome();
})();
</script>
